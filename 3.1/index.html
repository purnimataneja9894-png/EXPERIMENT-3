<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>ProductCard + Cart</title>

  <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <style>
    body {
      margin: 0;
      font-family: Arial;
      background: #121212;
      color: white;
    }

    h1 {
      text-align: center;
      padding: 20px;
    }

    .layout {
      display: grid;
      grid-template-columns: 3fr 1fr;
      gap: 30px;
      padding: 20px;
    }

    .products {
      display: grid;
      grid-template-columns: repeat(auto-fill,minmax(220px,1fr));
      gap: 20px;
    }

    .card {
      background: #1f1f1f;
      padding: 20px;
      border-radius: 10px;
      transition: 0.3s;
    }

    .card:hover {
      transform: scale(1.05);
      background: #2c2c2c;
    }

    .card button {
      margin-top: 10px;
      width: 100%;
      padding: 8px;
      border: none;
      background: #ff4b2b;
      color: white;
      cursor: pointer;
    }

    .cart {
      background: #1a1a1a;
      padding: 20px;
      border-radius: 10px;
      min-height: 400px;
    }

    .cart-item {
      display: flex;
      justify-content: space-between;
      margin-bottom: 10px;
      background: #2b2b2b;
      padding: 8px;
      border-radius: 6px;
    }

    .cart-item button {
      margin-left: 5px;
    }

    .total {
      margin-top: 15px;
      font-weight: bold;
    }
  </style>
</head>

<body>

<h1>Product Store</h1>
<div id="root"></div>

<script type="text/babel">

function ProductCard({ product, addToCart }) {
  return (
    <div className="card">
      <h3>{product.name}</h3>
      <p>₹{product.price}</p>
      <p>{product.stock > 0 ? "In Stock" : "Out of Stock"}</p>
      <button onClick={() => addToCart(product)} disabled={product.stock===0}>
        Add to Cart
      </button>
    </div>
  );
}

function App() {
  const initialProducts = Array.from({length: 15}, (_,i)=>({
    id: i+1,
    name: "Product " + (i+1),
    price: 500 + i*100,
    stock: 5
  }));

  const [products] = React.useState(initialProducts);
  const [cart, setCart] = React.useState([]);

  const addToCart = (product) => {
    setCart(prev => {
      const existing = prev.find(p=>p.id===product.id);
      if(existing){
        return prev.map(p=>p.id===product.id ? {...p, qty:p.qty+1} : p);
      }
      return [...prev,{...product, qty:1}];
    });
  };

  const remove = id => setCart(cart.filter(i=>i.id!==id));
  const increase = id => setCart(cart.map(i=>i.id===id? {...i,qty:i.qty+1}:i));
  const decrease = id => setCart(cart.map(i=>i.id===id && i.qty>1? {...i,qty:i.qty-1}:i));

  return (
    <div className="layout">

      <div className="products">
        {products.map(p=>(
          <ProductCard key={p.id} product={p} addToCart={addToCart}/>
        ))}
      </div>

      <div className="cart">
        <h2>Cart</h2>

        {cart.length===0 && <p>No items added.</p>}

        {cart.map(item=>(
          <div key={item.id} className="cart-item">
            <div>
              {item.name} ({item.qty})
            </div>
            <div>
              <button onClick={()=>decrease(item.id)}>-</button>
              <button onClick={()=>increase(item.id)}>+</button>
              <button onClick={()=>remove(item.id)}>x</button>
            </div>
          </div>
        ))}

        <div className="total">
          Total: ₹{cart.reduce((s,i)=>s+i.price*i.qty,0)}
        </div>
      </div>

    </div>
  );
}

ReactDOM.createRoot(document.getElementById("root")).render(<App/>);
</script>

</body>
</html>
